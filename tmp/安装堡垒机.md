teleport
------------------------------------------------------------------------
1. wget https://get.gravitational.com/teleport_4.3.5_amd64.deb

2. chmod +x ./teleport_4.3.5_amd64.deb

3. apt install ./teleport_4.3.5_amd64.deb

4. 启动 ：teleport start

5. 创建账号
   adduser teleport
   *密码：teleport*
6. 创建密码 tctl users add teleport
使用 Google Authenticator 生成二次认证token
https://121.46.18.83:3080/web/invite/08c13bf5de817e99c689bdad43e31ce1

**阻塞问题：** 强制用户使用二次认证，认证token需要Google Authenticator，在国内网络极不方便

JumpServer 
---------------------------------------------------------------------

1. Linux 生成随机key

```bash
# vim init_key.sh
if [ ! "$SECRET_KEY" ]; then
  SECRET_KEY=`cat /dev/urandom | tr -dc A-Za-z0-9 | head -c 50`;
  echo "SECRET_KEY=$SECRET_KEY" >> ~/.bashrc;
  echo $SECRET_KEY;
else
  echo $SECRET_KEY;
fi  
if [ ! "$BOOTSTRAP_TOKEN" ]; then
  BOOTSTRAP_TOKEN=`cat /dev/urandom | tr -dc A-Za-z0-9 | head -c 16`;
  echo "BOOTSTRAP_TOKEN=$BOOTSTRAP_TOKEN" >> ~/.bashrc;
  echo $BOOTSTRAP_TOKEN;
else
  echo $BOOTSTRAP_TOKEN;
fi
```

生成key：

  ```bash
  chmod +x init_key.sh
  ./init_key.sh

  cRPylgC5zy6JtEbjzyduH21PdULrdi4N55fJrkQfj9Vxdtd8Np
  9n5vCVTD7BQwOWE1
  ```

2. docker 部署

```bash
docker run --name jms_all -d \
  -p 8080:80 -p 2222:2222 \
  -e SECRET_KEY=$SECRET_KEY \
  -e BOOTSTRAP_TOKEN=$BOOTSTRAP_TOKEN \
  -v /opt/jumpserver/data:/opt/jumpserver/data \
  -v /opt/jumpserver/mysql:/var/lib/mysql \
  --privileged=true \
  jumpserver/jms_all:v2.2.1
```

3. 登陆

链接： `http://121.46.18.83:8080/core/auth/login/`

账号：  admin apulis18D

**参考文档：**
[JumpServer Docs](https://docs.jumpserver.org/zh/master/install/docker_install/)